"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[881],{5881:function(e,t,n){n.r(t),n.d(t,{Movies:function(){return k},default:function(){return w}});var r=n(5861),a=n(885),c=n(7757),u=n.n(c),s=n(8185),o=n(8995),i=n(3243),f=n(2791),p=n(501),l=n(6871),h="Movies_formPosition__GgHU+",v="Movies_formInput__zmXM8",d="Movies_buttonFind__HEt+u",m="Movies_search__VjLZn",_="Movies_searchItem__mdXQx",x="Movies_searchAlert__cx5o9",y=n(184),k=function(){var e=(0,f.useState)(null),t=(0,a.Z)(e,2),n=t[0],c=t[1],k=(0,f.useState)(!1),w=(0,a.Z)(k,2),b=w[0],M=w[1],g=(0,p.lr)({}),j=(0,a.Z)(g,2),Z=j[0],N=j[1],q=Z.get("query"),C=(0,l.TH)();return(0,f.useEffect)((function(){if(q){var e=function(){var e=(0,r.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.prev=1,e.next=4,i.Z.fetchMoviesQuery(q);case 4:t=e.sent,c(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,M(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[q]),(0,y.jsxs)("div",{children:[(0,y.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;N({query:e.target.elements.query.value.toLowerCase().trim()}),t.reset()},children:[(0,y.jsx)("input",{className:v,type:"text",name:"query",autoFocus:!0}),(0,y.jsx)("button",{className:d,type:"submit",children:(0,y.jsx)("span",{children:(0,y.jsx)(s.dVI,{})})})]}),(0,y.jsx)("div",{className:m,children:(0,y.jsxs)("ul",{children:[n&&n.results.length>0&&n.results.map((function(e){return(0,y.jsx)("li",{children:(0,y.jsx)(p.rU,{className:_,to:"/movies/".concat(e.id),state:{from:C},children:e.title})},e.id)})),b&&(0,y.jsx)(o.Z,{}),n&&0===n.total_results&&(0,y.jsx)("p",{className:x,children:"The film you're looking for can't be found"})]})})]})},w=k},3243:function(e,t,n){var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),s=n.n(u),o="e8f0bf3ce38076183b976a0014844e32",i="https://api.themoviedb.org/3",f=function(){var e=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i,"/trending/movie/day?api_key=").concat(o)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i,"/search/movie?api_key=").concat(o,"&query=").concat(t,"&language=en-US&page=1&include_adult=false")).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i,"/movie/").concat(t,"?api_key=").concat(o)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i,"/movie/").concat(t,"/credits?api_key=").concat(o)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s()("".concat(i,"/movie/").concat(t,"/reviews?api_key=").concat(o)).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={fetchTrendingMovies:f,fetchMoviesQuery:p,fetchMoviesDetails:l,fetchMoviesCast:h,fetchMoviesReviews:v};t.Z=d}}]);
//# sourceMappingURL=881.4f5c9135.chunk.js.map