{"version":3,"file":"static/js/608.e7850356.chunk.js","mappings":"kPACA,EAA+B,6BAA/B,EAAwE,0BAAxE,EAA+G,2BAA/G,EAAmJ,uBAAnJ,EAAuL,2BAAvL,EAAgO,4B,SCsEhO,EAjEsB,WACpB,OAA4CA,EAAAA,EAAAA,UAAS,MAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAwCC,EAAAA,EAAAA,IAAgB,IAAxD,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAaF,EAAaG,IAAI,SAC9BC,GAAWC,EAAAA,EAAAA,MAoBjB,OATAC,EAAAA,EAAAA,YAAU,WACHJ,GAILA,GAAcK,EAAAA,EAAAA,iBAAqBL,GAAYM,MAAK,SAAAC,GAAK,OAAIX,EAAkBW,QAC9E,CAACP,KAIF,4BACE,kBAAMQ,UAAWC,EAAqBC,SApBrB,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAAYF,EAAEG,cACpBf,EAAgB,CACdgB,MAAOJ,EAAEK,OAAOC,SAASF,MAAMG,MAAMC,cAAcC,SAErDP,EAAUQ,SAcR,WACE,kBACEb,UAAWC,EACXa,KAAK,OACLC,KAAK,QACLC,WAAS,KAEX,mBAAQhB,UAAWC,EAAmBa,KAAK,SAA3C,UACE,2BACE,SAAC,MAAD,YAIN,gBAAKd,UAAWC,EAAhB,UACE,0BACGd,GACCA,EAAe8B,QAAQC,OAAS,GAChC/B,EAAe8B,QAAQE,KAAI,SAAApB,GAAK,OAC9B,yBACE,SAAC,KAAD,CACEC,UAAWC,EACXmB,GAAE,kBAAarB,EAAMsB,IACrBC,MAAO,CAAEC,KAAM7B,GAHjB,SAKGK,EAAMyB,SANFzB,EAAMsB,OAUlBlC,GAAmD,IAAjCA,EAAesC,gBAChC,cAAGzB,UAAWC,EAAd,kE,yEC3DNyB,EAAM,mCACNC,EAAI,+BAEJC,EAAmB,mCAAG,uGACnBC,GAAAA,CAAM,GAAD,OAAIF,EAAJ,uCAAuCD,IAAO5B,MACxD,SAAAgC,GAAQ,OAAIA,EAASC,SAFG,2CAAH,qDAMnBC,EAAgB,mCAAG,WAAMzB,GAAN,0FAChBsB,GAAAA,CAAM,GAAD,OACPF,EADO,iCACsBD,EADtB,kBACmCnB,EADnC,+CAEVT,MAAK,SAAAgC,GAAQ,OAAIA,EAASC,SAHL,2CAAH,sDAMhBE,EAAkB,mCAAG,WAAMC,GAAN,0FAClBL,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAkBO,EAAlB,oBAAqCR,IAAO5B,MACtD,SAAAgC,GAAQ,OAAIA,EAASC,SAFE,2CAAH,sDAMlBI,EAAe,mCAAG,WAAMD,GAAN,0FACfL,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAkBO,EAAlB,4BAA6CR,IAAO5B,MAC9D,SAAAgC,GAAQ,OAAIA,EAASC,SAFD,2CAAH,sDAMfK,EAAkB,mCAAG,WAAMF,GAAN,0FAClBL,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAkBO,EAAlB,4BAA6CR,IAAO5B,MAC9D,SAAAgC,GAAQ,OAAIA,EAASC,SAFE,2CAAH,sDAMlBlC,EAAM,CACV+B,oBAAAA,EACAI,iBAAAA,EACAC,mBAAAA,EACAE,gBAAAA,EACAC,mBAAAA,GAGF","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/movieApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formPosition\":\"Movies_formPosition__GgHU+\",\"formInput\":\"Movies_formInput__zmXM8\",\"buttonFind\":\"Movies_buttonFind__HEt+u\",\"search\":\"Movies_search__VjLZn\",\"searchItem\":\"Movies_searchItem__mdXQx\",\"searchAlert\":\"Movies_searchAlert__cx5o9\"};","import { BsSearch } from 'react-icons/bs';\nimport api from 'services/movieApi';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport styles from '../Movies/Movies.module.css';\n\nexport const Movies = () => {\n  const [searchedMovies, setSearchedMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams({});\n  const queryMovie = searchParams.get('query');\n  const location = useLocation();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const formInput = e.currentTarget;\n    setSearchParams({\n      query: e.target.elements.query.value.toLowerCase().trim(),\n    });\n    formInput.reset();\n  };\n\n  useEffect(() => {\n    if (!queryMovie) {\n      return;\n    }\n    \n    queryMovie && api.fetchMoviesQuery(queryMovie).then(movie => setSearchedMovies(movie));\n  }, [queryMovie]);\n\n\n  return (\n    <div>\n      <form className={styles.formPosition} onSubmit={handleSubmit}>\n        <input\n          className={styles.formInput}\n          type=\"text\"\n          name=\"query\"\n          autoFocus\n        />\n        <button className={styles.buttonFind} type=\"submit\">\n          <span>\n            <BsSearch />\n          </span>\n        </button>\n      </form>\n      <div className={styles.search}>\n        <ul>\n          {searchedMovies &&\n            searchedMovies.results.length > 0 &&\n            searchedMovies.results.map(movie => (\n              <li key={movie.id}>\n                <Link\n                  className={styles.searchItem}\n                  to={`/movies/${movie.id}`}\n                  state={{ from: location }}\n                >\n                  {movie.title}\n                </Link>\n              </li>\n            ))}\n          {searchedMovies && searchedMovies.total_results === 0 && (\n            <p className={styles.searchAlert}>\n              The film you're looking for can't be found\n            </p>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst KEY = 'e8f0bf3ce38076183b976a0014844e32';\nconst BASE = `https://api.themoviedb.org/3`;\n\nconst fetchTrendingMovies = async () => {\n  return axios(`${BASE}/trending/movie/day?api_key=${KEY}`).then(\n    response => response.data\n  );\n};\n\nconst fetchMoviesQuery = async query => {\n  return axios(\n    `${BASE}/search/movie?api_key=${KEY}&query=${query}&language=en-US&page=1&include_adult=false`\n  ).then(response => response.data);\n};\n\nconst fetchMoviesDetails = async movieId => {\n  return axios(`${BASE}/movie/${movieId}?api_key=${KEY}`).then(\n    response => response.data\n  );\n};\n\nconst fetchMoviesCast = async movieId => {\n  return axios(`${BASE}/movie/${movieId}/credits?api_key=${KEY}`).then(\n    response => response.data\n  );\n};\n\nconst fetchMoviesReviews = async movieId => {\n  return axios(`${BASE}/movie/${movieId}/reviews?api_key=${KEY}`).then(\n    response => response.data\n  );\n};\n\nconst api = {\n  fetchTrendingMovies,\n  fetchMoviesQuery,\n  fetchMoviesDetails,\n  fetchMoviesCast,\n  fetchMoviesReviews,\n};\n\nexport default api;\n"],"names":["useState","searchedMovies","setSearchedMovies","useSearchParams","searchParams","setSearchParams","queryMovie","get","location","useLocation","useEffect","api","then","movie","className","styles","onSubmit","e","preventDefault","formInput","currentTarget","query","target","elements","value","toLowerCase","trim","reset","type","name","autoFocus","results","length","map","to","id","state","from","title","total_results","KEY","BASE","fetchTrendingMovies","axios","response","data","fetchMoviesQuery","fetchMoviesDetails","movieId","fetchMoviesCast","fetchMoviesReviews"],"sourceRoot":""}